@(soilDiagnosticForm: Form[models.SoilDiagnostic],
    fieldOptions: Map[String, String])(
    implicit request: Http.Request, 
    messages: play.i18n.Messages)
@import utils.GlobalConfigHelper

@import helper._

@implicitField: FieldConstructor = @{ FieldConstructor(tags.forms.field_constructor.render) }

@main {

    <h1 class="my-3" id="page-title">@messages("soildiagnostics.create.title")</h1>

    @form(routes.SoilDiagnosticController.save()) {

        @CSRF.formField
        
        <div class="row">
            <div class="col-md-6 mb-3">
                @inputText(soilDiagnosticForm("diagnosticDate"), Symbol("_label") -> messages("soildiagnostics.date"), Symbol("_help") -> "YYYY-MM-DD format", Symbol("type") -> "date")
            </div>
            <div class="col-md-6 mb-3">
                @select(soilDiagnosticForm("field.id"), fieldOptions.toSeq, Symbol("_label") -> messages("soildiagnostics.field"), Symbol("_default") -> "-- Choose a field --")
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <h4>@messages("soildiagnostics.ph.measurements")</h4>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                @inputText(soilDiagnosticForm("phH2O"), Symbol("_label") -> messages("soildiagnostics.ph.h2o"), Symbol("_help") -> "pH measured in water", Symbol("type") -> "number", Symbol("step") -> "0.01")
            </div>
            <div class="col-md-6 mb-3">
                @inputText(soilDiagnosticForm("phKCL"), Symbol("_label") -> messages("soildiagnostics.ph.kcl"), Symbol("_help") -> "pH measured in KCL solution", Symbol("type") -> "number", Symbol("step") -> "0.01")
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <h4>@messages("soildiagnostics.electrical.properties")</h4>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                @inputText(soilDiagnosticForm("ec"), Symbol("_label") -> messages("soildiagnostics.ec"), Symbol("_help") -> "Î¼S/cm", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
            <div class="col-md-6 mb-3">
                @inputText(soilDiagnosticForm("cec"), Symbol("_label") -> messages("soildiagnostics.cec"), Symbol("_help") -> "cmol/kg", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <h4>@messages("soildiagnostics.nitrogen.measurements")</h4>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 mb-3">
                @inputText(soilDiagnosticForm("nh4N"), Symbol("_label") -> messages("soildiagnostics.nh4.n"), Symbol("_help") -> "mg/kg", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
            <div class="col-md-4 mb-3">
                @inputText(soilDiagnosticForm("no3N"), Symbol("_label") -> messages("soildiagnostics.no3.n"), Symbol("_help") -> "mg/kg", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
            <div class="col-md-4 mb-3">
                @inputText(soilDiagnosticForm("availableNitrogen"), Symbol("_label") -> messages("soildiagnostics.available.nitrogen"), Symbol("_help") -> "mg/kg", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <h4>@messages("soildiagnostics.mineral.content")</h4>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3 mb-3">
                @inputText(soilDiagnosticForm("k2O"), Symbol("_label") -> messages("soildiagnostics.k2o"), Symbol("_help") -> "mg/100g", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
            <div class="col-md-3 mb-3">
                @inputText(soilDiagnosticForm("p2O5"), Symbol("_label") -> messages("soildiagnostics.p2o5"), Symbol("_help") -> "mg/100g", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
            <div class="col-md-3 mb-3">
                @inputText(soilDiagnosticForm("caO"), Symbol("_label") -> messages("soildiagnostics.cao"), Symbol("_help") -> "mg/100g", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
            <div class="col-md-3 mb-3">
                @inputText(soilDiagnosticForm("mgO"), Symbol("_label") -> messages("soildiagnostics.mgo"), Symbol("_help") -> "mg/100g", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <h4>@messages("soildiagnostics.other.measurements")</h4>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                @inputText(soilDiagnosticForm("phosphorusAbsorptionCoefficient"), Symbol("_label") -> messages("soildiagnostics.phosphorus.absorption"), Symbol("_help") -> "mg/100g", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
            <div class="col-md-6 mb-3">
                @inputText(soilDiagnosticForm("humus"), Symbol("_label") -> messages("soildiagnostics.humus"), Symbol("_help") -> "%", Symbol("type") -> "number", Symbol("step") -> "0.001")
            </div>
        </div>

        <div class="actions">
            <button class="btn btn-success" type="submit">@messages("soildiagnostics.save")</button>
            <span class="mx-2">or</span>
            <a href="@routes.SoilDiagnosticController.list()" id="cancel" class="btn btn-light" role="button">@messages("soildiagnostics.cancel")</a>
        </div>
    }

}