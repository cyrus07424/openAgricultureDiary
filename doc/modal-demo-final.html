<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ãƒ‡ãƒ¢ - Open Agriculture Diary</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Loading modal styles - Same as implemented in main.css */
        .loading-modal .modal-content {
          border-radius: 10px;
          border: none;
        }

        .loading-modal .modal-body {
          text-align: center;
          padding: 2rem;
        }

        .loading-spinner {
          width: 3rem;
          height: 3rem;
          margin-bottom: 1rem;
        }

        .loading-message {
          font-size: 1.1rem;
          color: #495057;
          margin-top: 1rem;
        }
        
        .demo-card {
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Open Agriculture Diary</a>
            <div class="navbar-nav">
                <a class="nav-link" href="#">ä½œç‰©ç®¡ç†</a>
                <a class="nav-link" href="#">åœƒå ´ç®¡ç†</a>
                <a class="nav-link" href="#">ä½œæ¥­å±¥æ­´</a>
                <a class="nav-link" href="#">è¾²è–¬ç™»éŒ²æƒ…å ±</a>
            </div>
        </div>
    </nav>

    <div class="container-fluid mt-4">
        <div class="row">
            <div class="col-12">
                <h1 class="mb-4">ğŸ¯ ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ãƒ‡ãƒ¢</h1>
                <div class="alert alert-info">
                    <h5><strong>å®Ÿè£…å†…å®¹:</strong></h5>
                    <ul class="mb-0">
                        <li>âœ… <strong>é€£æ‰“é˜²æ­¢æ©Ÿèƒ½:</strong> ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã«ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã¦ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã‚’é˜²ã</li>
                        <li>âœ… <strong>ã‚¹ãƒãƒ¼ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:</strong> ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«å¿œã˜ã¦é©åˆ‡ãªæ—¥æœ¬èªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º</li>
                        <li>âœ… <strong>è‡ªå‹•æ¤œå‡º:</strong> ãƒšãƒ¼ã‚¸å†…ã®ã™ã¹ã¦ã®ãƒ•ã‚©ãƒ¼ãƒ ã‚’è‡ªå‹•çš„ã«æ¤œå‡ºã—ã¦å‡¦ç†</li>
                        <li>âœ… <strong>Bootstrapçµ±åˆ:</strong> æ—¢å­˜ã®Bootstrap 5.3.0ã¨å®Œå…¨ã«çµ±åˆ</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card demo-card">
                    <div class="card-header">
                        <h5>ğŸŒ¾ ä½œç‰©ä½œæˆãƒ•ã‚©ãƒ¼ãƒ </h5>
                    </div>
                    <div class="card-body">
                        <form action="/crops" method="POST">
                            <div class="mb-3">
                                <label for="cropName" class="form-label">ä½œç‰©å</label>
                                <input type="text" class="form-control" id="cropName" name="name" value="æ°´ç¨²" required>
                            </div>
                            <div class="mb-3">
                                <label for="introduced" class="form-label">å°å…¥æ—¥</label>
                                <input type="date" class="form-control" id="introduced" name="introduced" value="2025-04-01">
                            </div>
                            <button class="btn btn-success" type="submit">ä½œç‰©ã‚’ä½œæˆã™ã‚‹</button>
                            <div class="mt-2">
                                <small class="text-muted">â†’ è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: <strong>ã€Œä½œç‰©ã‚’ä½œæˆä¸­ã§ã™...ã€</strong></small>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card demo-card">
                    <div class="card-header">
                        <h5>ğŸï¸ åœƒå ´ä½œæˆãƒ•ã‚©ãƒ¼ãƒ </h5>
                    </div>
                    <div class="card-body">
                        <form action="/fields" method="POST">
                            <div class="mb-3">
                                <label for="fieldName" class="form-label">åœƒå ´å</label>
                                <input type="text" class="form-control" id="fieldName" name="name" value="ç¬¬ä¸€æ°´ç”°" required>
                            </div>
                            <div class="mb-3">
                                <label for="latitude" class="form-label">ç·¯åº¦</label>
                                <input type="text" class="form-control" id="latitude" name="latitude" value="35.6762">
                            </div>
                            <button class="btn btn-success" type="submit">åœƒå ´ã‚’ä½œæˆã™ã‚‹</button>
                            <div class="mt-2">
                                <small class="text-muted">â†’ è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: <strong>ã€Œåœƒå ´ã‚’ä½œæˆä¸­ã§ã™...ã€</strong></small>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card demo-card">
                    <div class="card-header">
                        <h5>ğŸ“ ä½œæ¥­å±¥æ­´ä½œæˆãƒ•ã‚©ãƒ¼ãƒ </h5>
                    </div>
                    <div class="card-body">
                        <form action="/work-history" method="POST">
                            <div class="mb-3">
                                <label for="workDate" class="form-label">ä½œæ¥­æ—¥</label>
                                <input type="date" class="form-control" id="workDate" name="date" value="2025-08-13" required>
                            </div>
                            <div class="mb-3">
                                <label for="content" class="form-label">ä½œæ¥­å†…å®¹</label>
                                <textarea class="form-control" id="content" name="content" rows="3">ç”°æ¤ãˆä½œæ¥­ã‚’å®Ÿæ–½</textarea>
                            </div>
                            <button class="btn btn-success" type="submit">ä½œæ¥­å±¥æ­´ã‚’ä½œæˆã™ã‚‹</button>
                            <div class="mt-2">
                                <small class="text-muted">â†’ è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: <strong>ã€Œä½œæ¥­å±¥æ­´ã‚’ä½œæˆä¸­ã§ã™...ã€</strong></small>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card demo-card">
                    <div class="card-header">
                        <h5>ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ </h5>
                    </div>
                    <div class="card-body">
                        <form action="/register" method="POST">
                            <div class="mb-3">
                                <label for="username" class="form-label">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
                                <input type="text" class="form-control" id="username" name="username" value="è¾²æ¥­å¤ªéƒ" required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                                <input type="email" class="form-control" id="email" name="email" value="taro@example.com" required>
                            </div>
                            <button type="submit" class="btn btn-primary">ç™»éŒ²</button>
                            <div class="mt-2">
                                <small class="text-muted">â†’ è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: <strong>ã€Œç™»éŒ²ä¸­ã§ã™...ã€</strong></small>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card demo-card">
                    <div class="card-header">
                        <h5>ğŸ—‘ï¸ å‰Šé™¤ãƒ•ã‚©ãƒ¼ãƒ </h5>
                    </div>
                    <div class="card-body">
                        <form action="/crops/1/delete" method="POST">
                            <p>ä»¥ä¸‹ã®ä½œç‰©ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ</p>
                            <div class="alert alert-warning">
                                <strong>ä½œç‰©å:</strong> æ°´ç¨²<br>
                                <strong>å°å…¥æ—¥:</strong> 2025-04-01
                            </div>
                            <button class="btn btn-danger" type="submit">å‰Šé™¤ã™ã‚‹</button>
                            <div class="mt-2">
                                <small class="text-muted">â†’ è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: <strong>ã€Œå‰Šé™¤ä¸­ã§ã™...ã€</strong></small>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card demo-card">
                    <div class="card-header">
                        <h5>ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒ </h5>
                    </div>
                    <div class="card-body">
                        <form action="/pesticides/upload" method="POST" enctype="multipart/form-data">
                            <div class="mb-3">
                                <label for="file" class="form-label">è¾²è–¬ç™»éŒ²æƒ…å ±ãƒ•ã‚¡ã‚¤ãƒ«</label>
                                <input type="file" class="form-control" id="file" name="file" accept=".csv,.xlsx">
                            </div>
                            <button type="submit" class="btn btn-primary">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</button>
                            <div class="mt-2">
                                <small class="text-muted">â†’ è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: <strong>ã€Œã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­ã§ã™...ã€</strong></small>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card demo-card">
                    <div class="card-header">
                        <h5>ğŸ” ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ </h5>
                    </div>
                    <div class="card-body">
                        <form action="/login" method="POST">
                            <div class="mb-3">
                                <label for="loginUsername" class="form-label">ãƒ¦ãƒ¼ã‚¶ãƒ¼å</label>
                                <input type="text" class="form-control" id="loginUsername" name="username" value="è¾²æ¥­å¤ªéƒ" required>
                            </div>
                            <div class="mb-3">
                                <label for="loginPassword" class="form-label">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                                <input type="password" class="form-control" id="loginPassword" name="password" required>
                            </div>
                            <button type="submit" class="btn btn-primary">ãƒ­ã‚°ã‚¤ãƒ³</button>
                            <div class="mt-2">
                                <small class="text-muted">â†’ è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: <strong>ã€Œãƒ­ã‚°ã‚¤ãƒ³ä¸­ã§ã™...ã€</strong></small>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card demo-card">
                    <div class="card-header">
                        <h5>ğŸ”„ æ±ç”¨ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰</h5>
                    </div>
                    <div class="card-body">
                        <form action="/unknown-action" method="POST">
                            <div class="mb-3">
                                <label for="genericField" class="form-label">æ±ç”¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</label>
                                <input type="text" class="form-control" id="genericField" name="field" value="ãã®ä»–ã®å‡¦ç†">
                            </div>
                            <button type="submit" class="btn btn-secondary">é€ä¿¡</button>
                            <div class="mt-2">
                                <small class="text-muted">â†’ è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: <strong>ã€Œå‡¦ç†ä¸­ã§ã™...ã€</strong> (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)</small>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-12">
                <div class="alert alert-success">
                    <h5><strong>ğŸ‰ å®Ÿè£…å®Œäº†!</strong></h5>
                    <p class="mb-0">ä¸Šè¨˜ã®ãƒ•ã‚©ãƒ¼ãƒ ã‚’é€ä¿¡ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ãã‚Œãã‚Œé©åˆ‡ãªæ—¥æœ¬èªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã¨ã‚‚ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ€ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã€é€£æ‰“ã‚’é˜²æ­¢ã—ã¾ã™ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Modal - Same as implemented in main.scala.html and authLayout.scala.html -->
    <div class="modal fade loading-modal" id="loadingModal" tabindex="-1" aria-labelledby="loadingModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body">
            <div class="d-flex flex-column align-items-center">
              <div class="spinner-border text-primary loading-spinner" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
              <div id="loadingMessage" class="loading-message">å‡¦ç†ä¸­ã§ã™...</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Same JavaScript implementation as in form-loading.js
        (function() {
            'use strict';
            
            const loadingMessages = {
                '/crops': 'ä½œç‰©ã‚’ä½œæˆä¸­ã§ã™...',
                '/crops/': 'ä½œç‰©ã‚’æ›´æ–°ä¸­ã§ã™...',
                '/delete': 'å‰Šé™¤ä¸­ã§ã™...',
                '/fields': 'åœƒå ´ã‚’ä½œæˆä¸­ã§ã™...',
                '/fields/': 'åœƒå ´ã‚’æ›´æ–°ä¸­ã§ã™...',
                '/work-history': 'ä½œæ¥­å±¥æ­´ã‚’ä½œæˆä¸­ã§ã™...',
                '/work-history/': 'ä½œæ¥­å±¥æ­´ã‚’æ›´æ–°ä¸­ã§ã™...',
                '/login': 'ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã§ã™...',
                '/register': 'ç™»éŒ²ä¸­ã§ã™...',
                '/forgot-password': 'ãƒ¡ãƒ¼ãƒ«é€ä¿¡ä¸­ã§ã™...',
                '/reset-password': 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´ä¸­ã§ã™...',
                '/pesticides/upload': 'ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­ã§ã™...',
                '/pesticides/clear': 'å‰Šé™¤ä¸­ã§ã™...',
                'default': 'å‡¦ç†ä¸­ã§ã™...'
            };
            
            function getLoadingMessage(form) {
                const action = form.getAttribute('action') || '';
                
                for (const pattern in loadingMessages) {
                    if (pattern !== 'default' && action.includes(pattern)) {
                        return loadingMessages[pattern];
                    }
                }
                
                if (action.includes('/delete') || form.querySelector('button[type="submit"]')?.textContent?.includes('å‰Šé™¤')) {
                    return loadingMessages['/delete'];
                }
                
                return loadingMessages.default;
            }
            
            function showLoadingModal(message) {
                const modal = document.getElementById('loadingModal');
                const messageElement = document.getElementById('loadingMessage');
                
                if (modal && messageElement) {
                    messageElement.textContent = message;
                    const bootstrapModal = new bootstrap.Modal(modal, {
                        backdrop: 'static',
                        keyboard: false
                    });
                    bootstrapModal.show();
                }
            }
            
            function initializeFormHandlers() {
                const forms = document.querySelectorAll('form');
                
                forms.forEach(function(form) {
                    form.addEventListener('submit', function(event) {
                        // For demo purposes, prevent actual form submission
                        event.preventDefault();
                        
                        const submitButton = form.querySelector('button[type="submit"]');
                        
                        // Prevent multiple submissions by disabling the submit button
                        if (submitButton) {
                            submitButton.disabled = true;
                        }
                        
                        // Get appropriate loading message and show modal
                        const message = getLoadingMessage(form);
                        showLoadingModal(message);
                        
                        // For demo, hide modal after 3 seconds and re-enable button
                        setTimeout(function() {
                            const modal = bootstrap.Modal.getInstance(document.getElementById('loadingModal'));
                            if (modal) {
                                modal.hide();
                            }
                            if (submitButton) {
                                submitButton.disabled = false;
                            }
                        }, 3000);
                    });
                });
            }
            
            // Initialize when DOM is ready
            document.addEventListener('DOMContentLoaded', initializeFormHandlers);
        })();
    </script>
</body>
</html>